
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Mastery</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="mobile.css" media="(max-width: 768px)">
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="myBar"></div>
    </div>

    <!-- Header Navigation -->
    <header class="header">
        <nav class="navbar">
            <div class="logo" aria-label="English Mastery">English Mastery</div>
            <div class="nav-tabs">
                <a href="#home" class="tab active" data-i18n="nav.home">Home</a>
                <a href="#lessons" class="tab" data-i18n="nav.lessons">Lessons</a>
                <a href="#quiz" class="tab" data-i18n="nav.quiz">Quiz</a>
                <button id="theme-toggle" class="theme-btn" aria-label="Toggle Dark Mode">üåô</button>
                <button id="lang-toggle" class="theme-btn" aria-label="Toggle Language">üåê</button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="hero-section">
            <!-- Left Side: Image -->
            <div class="hero-image-container">
                <img src="data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 500 500'%3E%3Cdefs%3E%3ClinearGradient id='pageGradient' x1='0%25' y1='0%25' x2='100%25' y2='0%25'%3E%3Cstop offset='0%25' stop-color='%23f8fafc' /%3E%3Cstop offset='50%25' stop-color='%23e2e8f0' /%3E%3Cstop offset='100%25' stop-color='%23f8fafc' /%3E%3C/linearGradient%3E%3Cfilter id='dropShadow' x='-20%25' y='-20%25' width='140%25' height='140%25'%3E%3CfeGaussianBlur in='SourceAlpha' stdDeviation='10'/%3E%3CfeOffset dx='5' dy='10' result='offsetblur'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='linear' slope='0.3'/%3E%3C/feComponentTransfer%3E%3CfeMerge%3E%3CfeMergeNode in='offsetblur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3Cstyle%3E@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } } @keyframes float2 { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } } @keyframes pulse { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.7; } } .f1 { animation: float 4s ease-in-out infinite; } .f2 { animation: float2 5s ease-in-out infinite; animation-delay: 1s; } .f3 { animation: float 4.5s ease-in-out infinite; animation-delay: 0.5s; } .p { animation: pulse 3s ease-in-out infinite; } %3C/style%3E%3C/defs%3E%3Ccircle cx='250' cy='280' r='180' fill='%230ea5e9' opacity='0.1' filter='url(%23dropShadow)' /%3E%3Cg transform='translate(50, 50)' filter='url(%23dropShadow)'%3E%3Cpath d='M50 300 L350 300 L380 270 L80 270 Z' fill='%231e293b' /%3E%3Cpath d='M50 300 L50 280 L350 280 L350 300 Z' fill='%23334155' /%3E%3Cpath d='M50 280 C50 280 150 300 200 280 V150 C200 170 100 150 50 150 Z' fill='url(%23pageGradient)' stroke='%23cbd5e1' /%3E%3Cpath d='M350 280 C350 280 250 300 200 280 V150 C200 170 300 150 350 150 Z' fill='url(%23pageGradient)' stroke='%23cbd5e1' /%3E%3Cpath d='M200 150 V280' stroke='%2394a3b8' stroke-width='1' /%3E%3Ctext x='80' y='200' font-family='Arial' font-size='10' fill='%2364748b' transform='rotate(-5 80 200)'%3EVocabulary%3C/text%3E%3Ctext x='80' y='220' font-family='Arial' font-size='10' fill='%2364748b' transform='rotate(-5 80 220)'%3EGrammar%3C/text%3E%3Ctext x='260' y='200' font-family='Arial' font-size='10' fill='%2364748b' transform='rotate(5 260 200)'%3EHello%3C/text%3E%3Ctext x='260' y='220' font-family='Arial' font-size='10' fill='%2364748b' transform='rotate(5 260 220)'%3EWelcome%3C/text%3E%3C/g%3E%3Cg class='f1'%3E%3Crect x='100' y='50' width='60' height='40' rx='8' fill='%23ffffff' stroke='%230284c7' stroke-width='2' transform='rotate(-15 130 70)' filter='url(%23dropShadow)'/%3E%3Ctext x='112' y='75' font-family='Arial' font-size='16' fill='%230284c7' font-weight='bold' transform='rotate(-15 130 70)'%3EVerb%3C/text%3E%3C/g%3E%3Cg class='f2'%3E%3Crect x='340' y='60' width='70' height='40' rx='8' fill='%23ffffff' stroke='%233b82f6' stroke-width='2' transform='rotate(10 375 80)' filter='url(%23dropShadow)'/%3E%3Ctext x='352' y='85' font-family='Arial' font-size='16' fill='%233b82f6' font-weight='bold' transform='rotate(10 375 80)'%3ENoun%3C/text%3E%3C/g%3E%3Cg class='f3'%3E%3Crect x='220' y='20' width='60' height='40' rx='8' fill='%230284c7' stroke='%23ffffff' stroke-width='2' filter='url(%23dropShadow)'/%3E%3Ctext x='230' y='45' font-family='Arial' font-size='16' fill='%23ffffff' font-weight='bold'%3EA+%3C/text%3E%3C/g%3E%3Cpath d='M160 90 Q 200 140 220 180' stroke='%230284c7' stroke-width='2' stroke-dasharray='4,4' opacity='0.5' fill='none' class='p'/%3E%3Cpath d='M340 100 Q 300 140 280 180' stroke='%233b82f6' stroke-width='2' stroke-dasharray='4,4' opacity='0.5' fill='none' class='p'/%3E%3Cpath d='M250 60 L 250 140' stroke='%230284c7' stroke-width='2' stroke-dasharray='4,4' opacity='0.5' fill='none' class='p'/%3E%3C/svg%3E" alt="ÿµŸàÿ±ÿ© ÿ™ÿπŸÑŸäŸÖŸäÿ©" class="hero-image">
            </div>

            <!-- Right Side: Content -->
            <div class="hero-content">
                <h1 class="hero-title">
                    <span data-i18n="hero.title">Learn English</span><br>
                    <span class="highlight" data-i18n="hero.highlight">Smartly & Easily</span>
                </h1>
                
                <p class="hero-description" data-i18n="hero.desc">
                    Use the power of AI to improve your conversation and grammar skills.
                    Professional lessons, accurate statistics, and a smart teacher available 24/7.
                </p>

                <div class="action-buttons">
                    <button id="discover-btn" class="btn btn-secondary" data-i18n="hero.btn1">Discover Lessons</button>
                    <button id="start-journey-btn" class="btn btn-primary" data-i18n="hero.btn2">Start Journey Now</button>
                </div>

                <div class="badge" data-i18n="hero.badge">500+ New Students</div>
            </div>
        </div>

        <!-- Lessons Section -->
        <section id="lessons" class="lessons-section">
            <div class="lessons-header">
                <div>
                    <h2 class="lessons-title" data-i18n="lessons.title">Lesson Library</h2>
                    <p class="lessons-subtitle" data-i18n="lessons.subtitle">Choose a lesson to start your learning journey</p>
                </div>
                <div class="search-box">
                    <input type="text" id="lesson-search" placeholder="Search for a lesson or level..." data-i18n-placeholder="lessons.search">
                    <span class="search-icon">üîç</span>
                </div>
            </div>

            <div class="filter-container">
                <button class="filter-btn active" data-filter="all" data-i18n="filter.all">All</button>
                <button class="filter-btn" data-filter="grammar" data-i18n="filter.grammar">Grammar</button>
                <button class="filter-btn" data-filter="vocabulary" data-i18n="filter.vocabulary">Vocabulary</button>
                <button class="filter-btn" data-filter="skills" data-i18n="filter.skills">Skills</button>
            </div>

            <div class="lessons-grid">
                <!-- Lesson Card 1 -->
                <div class="lesson-card" data-lesson-id="business" data-category="skills">
                    <div class="lesson-icon">üíº</div>
                    <h3 class="lesson-name" data-i18n="card.business.title">Professional Business Communication</h3>
                    <p class="lesson-name-en">Business English</p>
                    <p class="lesson-desc" data-i18n="card.business.desc">Develop business communication skills in the workplace.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.advanced">Advanced</span>
                    </div>
                </div>

                <!-- Lesson Card 2 -->
                <div class="lesson-card" data-lesson-id="auxiliary" data-category="grammar">
                    <div class="lesson-icon">üîß</div>
                    <h3 class="lesson-name" data-i18n="card.auxiliary.title">Understanding Auxiliary Verbs</h3>
                    <p class="lesson-name-en">Grammar</p>
                    <p class="lesson-desc" data-i18n="card.auxiliary.desc">Detailed explanation of using have, do, be, and will.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.intermediate">Intermediate</span>
                    </div>
                </div>

                <!-- Lesson Card 3 -->
                <div class="lesson-card" data-lesson-id="greetings" data-category="skills">
                    <div class="lesson-icon">üëã</div>
                    <h3 class="lesson-name" data-i18n="card.greetings.title">Fundamentals of Greetings</h3>
                    <p class="lesson-name-en">Basics</p>
                    <p class="lesson-desc" data-i18n="card.greetings.desc">Learn how to greet and interact with others in English.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.beginner">Beginner</span>
                    </div>
                </div>

                <!-- Lesson Card 4 -->
                <div class="lesson-card" data-lesson-id="essay" data-category="skills">
                    <div class="lesson-icon">‚úçÔ∏è</div>
                    <h3 class="lesson-name" data-i18n="card.essay.title">Academic Essay Composition</h3>
                    <p class="lesson-name-en">Writing Skills</p>
                    <p class="lesson-desc" data-i18n="card.essay.desc">Structured discussions for writing organized academic texts.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.advanced">Advanced</span>
                    </div>
                </div>

                <!-- Lesson Card 5 -->
                <div class="lesson-card" data-lesson-id="future" data-category="grammar">
                    <div class="lesson-icon">üîÆ</div>
                    <h3 class="lesson-name" data-i18n="card.future.title">Mastering the Future Simple</h3>
                    <p class="lesson-name-en">Grammar</p>
                    <p class="lesson-desc" data-i18n="card.future.desc">How to talk about your future plans using 'going to' and 'will'.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.intermediate">Intermediate</span>
                    </div>
                </div>

                <!-- Lesson Card 6 -->
                <div class="lesson-card" data-lesson-id="articles" data-category="grammar">
                    <div class="lesson-icon">üìö</div>
                    <h3 class="lesson-name" data-i18n="card.articles.title">Definite & Indefinite Articles</h3>
                    <p class="lesson-name-en">Grammar</p>
                    <p class="lesson-desc" data-i18n="card.articles.desc">Basic rules for using 'a', 'an', and 'the'.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.beginner">Beginner</span>
                    </div>
                </div>

                <!-- Lesson Card 7 -->
                <div class="lesson-card" data-lesson-id="past" data-category="grammar">
                    <div class="lesson-icon">üï∞Ô∏è</div>
                    <h3 class="lesson-name" data-i18n="card.past.title">The Past Simple Tense</h3>
                    <p class="lesson-name-en">Grammar</p>
                    <p class="lesson-desc" data-i18n="card.past.desc">Learn how to talk about finished past events and verb conjugations.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.beginner">Beginner</span>
                    </div>
                </div>

                <!-- Lesson Card 8 -->
                <div class="lesson-card" data-lesson-id="travel" data-category="vocabulary">
                    <div class="lesson-icon">‚úàÔ∏è</div>
                    <h3 class="lesson-name" data-i18n="card.travel.title">English for Travel & Tourism</h3>
                    <p class="lesson-name-en">Vocabulary</p>
                    <p class="lesson-desc" data-i18n="card.travel.desc">Essential words and phrases for traveling, airports, and hotels.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.intermediate">Intermediate</span>
                    </div>
                </div>

                <!-- Lesson Card 9 -->
                <div class="lesson-card" data-lesson-id="phrasal" data-category="vocabulary">
                    <div class="lesson-icon">üîÑ</div>
                    <h3 class="lesson-name" data-i18n="card.phrasal.title">Essential Phrasal Verbs</h3>
                    <p class="lesson-name-en">Vocabulary</p>
                    <p class="lesson-desc" data-i18n="card.phrasal.desc">Important phrasal verbs (get up, look for) used by native speakers.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.advanced">Advanced</span>
                    </div>
                </div>

                <!-- Lesson Card 10: Writing Mastery -->
                <div class="lesson-card" data-lesson-id="writing_mastery" data-category="skills">
                    <div class="lesson-icon">üìù</div>
                    <h3 class="lesson-name" data-i18n="card.writing_mastery.title">Mastering Writing Skills</h3>
                    <p class="lesson-name-en">Writing</p>
                    <p class="lesson-desc" data-i18n="card.writing_mastery.desc">Learn how to structure paragraphs and write complete, coherent topics.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.advanced">Advanced</span>
                    </div>
                </div>

                <!-- Lesson Card 11: Sentence Structure -->
                <div class="lesson-card" data-lesson-id="sentence_structure" data-category="grammar">
                    <div class="lesson-icon">üèóÔ∏è</div>
                    <h3 class="lesson-name" data-i18n="card.sentence_structure.title">Advanced Sentence Building</h3>
                    <p class="lesson-name-en">Grammar</p>
                    <p class="lesson-desc" data-i18n="card.sentence_structure.desc">Master the rules of syntax, word order, and complex sentence structures.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.intermediate">Intermediate</span>
                    </div>
                </div>

                <!-- Lesson Card 12: Professional Dialogue -->
                <div class="lesson-card" data-lesson-id="dialogue_pro" data-category="skills">
                    <div class="lesson-icon">üó£Ô∏è</div>
                    <h3 class="lesson-name" data-i18n="card.dialogue_pro.title">Professional Dialogue & Replies</h3>
                    <p class="lesson-name-en">Communication</p>
                    <p class="lesson-desc" data-i18n="card.dialogue_pro.desc">Techniques for professional conversation, diplomatic replies, and active listening.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.advanced">Advanced</span>
                    </div>
                </div>

                <!-- Lesson Card 13: Idioms -->
                <div class="lesson-card" data-lesson-id="idioms" data-category="vocabulary">
                    <div class="lesson-icon">üé≠</div>
                    <h3 class="lesson-name" data-i18n="card.idioms.title">Idioms & Slang</h3>
                    <p class="lesson-name-en">Vocabulary</p>
                    <p class="lesson-desc" data-i18n="card.idioms.desc">Speak like a native with common idioms and expressions.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.intermediate">Intermediate</span>
                    </div>
                </div>

                <!-- Lesson Card 14: Public Speaking -->
                <div class="lesson-card" data-lesson-id="public_speaking" data-category="skills">
                    <div class="lesson-icon">üé§</div>
                    <h3 class="lesson-name" data-i18n="card.public_speaking.title">Public Speaking Mastery</h3>
                    <p class="lesson-name-en">Soft Skills</p>
                    <p class="lesson-desc" data-i18n="card.public_speaking.desc">Conquer stage fright and learn to persuade an audience.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.advanced">Advanced</span>
                    </div>
                </div>

                <!-- Unit 1 Collection Card -->
                <div class="lesson-card collection-card" data-target="units-section" data-category="vocabulary">
                    <div class="lesson-icon">üì¶</div>
                    <h3 class="lesson-name" data-i18n="card.unit_collection.title">Unit 1</h3>
                    <p class="lesson-name-en">General Topics</p>
                    <p class="lesson-desc" data-i18n="card.unit_collection.desc">Contains 4 lessons: Zoo, Technology, Environment, Health.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level">4 Lessons</span>
                    </div>
                </div>

                <!-- Reading Collection Card -->
                <div class="lesson-card collection-card" data-target="reading-section" data-category="skills">
                    <div class="lesson-icon">üìñ</div>
                    <h3 class="lesson-name" data-i18n="card.reading_collection.title">Reading Practice</h3>
                    <p class="lesson-name-en">Comprehension</p>
                    <p class="lesson-desc" data-i18n="card.reading_collection.desc">Improve your reading skills with full topics like AI.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level">Articles</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Units Section (Hidden by default) -->
        <section id="units-section" class="lessons-section" style="display: none;">
            <div class="lessons-header">
                <button class="back-btn-main back-to-library">
                    <span class="arrow">‚Üê</span> <span data-i18n="common.backToLibrary">Back to Library</span>
                </button>
                <h2 class="lessons-title" data-i18n="card.unit_collection.title">Unit 1</h2>
            </div>
            <div class="lessons-grid">
                <!-- Unit 1: Zoo -->
                <div class="lesson-card" data-lesson-id="unit_zoo">
                    <div class="lesson-icon">ü¶Å</div>
                    <h3 class="lesson-name" data-i18n="card.unit_zoo.title">Unit 1: At the Zoo</h3>
                    <p class="lesson-name-en">Animals</p>
                    <p class="lesson-desc" data-i18n="card.unit_zoo.desc">Learn names of animals and their habitats.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.beginner">Beginner</span>
                    </div>
                </div>
                <!-- Unit 2: Technology -->
                <div class="lesson-card" data-lesson-id="unit_tech">
                    <div class="lesson-icon">üì±</div>
                    <h3 class="lesson-name" data-i18n="card.unit_tech.title">Unit 2: Technology</h3>
                    <p class="lesson-name-en">Modern Life</p>
                    <p class="lesson-desc" data-i18n="card.unit_tech.desc">Vocabulary for smartphones and the internet.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.intermediate">Intermediate</span>
                    </div>
                </div>
                <!-- Unit 3: Environment -->
                <div class="lesson-card" data-lesson-id="unit_env">
                    <div class="lesson-icon">üåç</div>
                    <h3 class="lesson-name" data-i18n="card.unit_env.title">Unit 3: Environment</h3>
                    <p class="lesson-name-en">Nature</p>
                    <p class="lesson-desc" data-i18n="card.unit_env.desc">Nature, recycling, and saving the planet.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.intermediate">Intermediate</span>
                    </div>
                </div>
                <!-- Unit 4: Health -->
                <div class="lesson-card" data-lesson-id="unit_health">
                    <div class="lesson-icon">üí™</div>
                    <h3 class="lesson-name" data-i18n="card.unit_health.title">Unit 4: Health & Fitness</h3>
                    <p class="lesson-name-en">Lifestyle</p>
                    <p class="lesson-desc" data-i18n="card.unit_health.desc">Body parts, symptoms, and healthy living.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.beginner">Beginner</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reading Section (Hidden by default) -->
        <section id="reading-section" class="lessons-section" style="display: none;">
            <div class="lessons-header">
                <button class="back-btn-main back-to-library">
                    <span class="arrow">‚Üê</span> <span data-i18n="common.backToLibrary">Back to Library</span>
                </button>
                <h2 class="lessons-title" data-i18n="card.reading_collection.title">Reading Practice</h2>
            </div>
            <div class="lessons-grid">
                <!-- AI Reading Lesson -->
                <div class="lesson-card" data-lesson-id="reading_ai">
                    <div class="lesson-icon">ü§ñ</div>
                    <h3 class="lesson-name" data-i18n="card.reading_ai.title">Artificial Intelligence</h3>
                    <p class="lesson-name-en">Technology</p>
                    <p class="lesson-desc" data-i18n="card.reading_ai.desc">Read about AI, how it works, and its future.</p>
                    <div class="lesson-footer">
                        <span class="lesson-level" data-i18n="level.advanced">Advanced</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quiz Main Section -->
        <section id="quiz" class="quiz-main-section" style="display: none;">
            <div class="quiz-header">
                <h2 data-i18n="quiz.mainTitle">Categorized Quizzes</h2>
                <p data-i18n="quiz.mainDesc">Choose a category and difficulty level</p>
            </div>
            
            <!-- Category Selection -->
            <div id="quiz-categories" class="quiz-grid">
                <div class="quiz-card" data-category="grammar">
                    <div class="lesson-icon">üìù</div>
                    <h3 data-i18n="filter.grammar">Grammar</h3>
                    <p data-i18n="quiz.grammarDesc">Tenses, verbs, and structure</p>
                    <button class="btn btn-primary start-cat-quiz-btn" data-cat="grammar" data-i18n="quiz.select">Select</button>
                </div>
                <div class="quiz-card" data-category="vocabulary">
                    <div class="lesson-icon">üó£Ô∏è</div>
                    <h3 data-i18n="filter.vocabulary">Vocabulary</h3>
                    <p data-i18n="quiz.vocabDesc">Words, phrases, and idioms</p>
                    <button class="btn btn-primary start-cat-quiz-btn" data-cat="vocabulary" data-i18n="quiz.select">Select</button>
                </div>
                <div class="quiz-card" data-category="skills">
                    <div class="lesson-icon">üí¨</div>
                    <h3 data-i18n="filter.skills">Skills</h3>
                    <p data-i18n="quiz.skillsDesc">Dialogue and communication</p>
                    <button class="btn btn-primary start-cat-quiz-btn" data-cat="skills" data-i18n="quiz.select">Select</button>
                </div>
            </div>

            <!-- Difficulty Selection -->
            <div id="quiz-difficulty" style="display: none; text-align: center; max-width: 600px; margin: 0 auto;">
                <h3 data-i18n="quiz.selectLevel" style="margin-bottom: 2rem;">Select Difficulty</h3>
                <div class="difficulty-container">
                    <button class="btn btn-secondary diff-btn" data-level="1" data-i18n="level.beginner">Beginner</button>
                    <button class="btn btn-secondary diff-btn" data-level="2" data-i18n="level.intermediate">Intermediate</button>
                    <button class="btn btn-secondary diff-btn" data-level="3" data-i18n="level.advanced">Advanced</button>
                </div>
                <button id="back-to-categories" class="back-btn-main" style="margin: 30px auto 0;">
                    <span class="arrow">‚Üê</span> <span data-i18n="common.back">Back</span>
                </button>
            </div>
            
            <div id="general-quiz-container" style="display: none; max-width: 800px; margin: 0 auto;">
                <h3 id="quiz-active-title"></h3>
                <div id="general-quiz-questions"></div>
                <button id="submit-general-quiz-btn" class="btn btn-primary" style="margin-top: 15px;" data-i18n="quiz.submit">Submit Answers</button>
                <button id="retry-general-quiz-btn" class="btn btn-secondary" style="margin-top: 15px; display:none;" data-i18n="quiz.retry">Try Again</button>
                <button id="close-general-quiz-btn" class="btn btn-secondary" style="margin-top: 15px; margin-left: 10px; display:none;" data-i18n="quiz.close">Close</button>
                <div id="general-quiz-result" class="quiz-result"></div>
            </div>
        </section>
    </main>

    <!-- Lesson Viewer (Full Page Mode) -->
    <section id="lesson-viewer" class="lesson-viewer-section" style="display: none;">
        <div class="viewer-container">
            <button id="close-lesson-btn" class="back-btn-main">
                <span class="arrow">‚Üê</span> <span data-i18n="common.backToLessons">Back to Lessons</span>
            </button>

            <div class="viewer-card">
                <!-- Summary View -->
                <div id="modal-summary-view">
                    <div class="viewer-header">
                        <div id="modal-icon" class="modal-icon"></div>
                        <div>
                            <h2 id="modal-title"></h2>
                            <p id="modal-subtitle"></p>
                        </div>
                    </div>
                    <div class="viewer-body">
                        <div class="modal-level-badge">
                            <span id="modal-level" class="badge"></span>
                        </div>
                        <p id="modal-desc"></p>
                        <div class="modal-lesson-content">
                            <h4 data-i18n="modal.content">Lesson Content:</h4>
                            <ul id="modal-points"></ul>
                        </div>
                        <button id="start-lesson-btn" class="btn btn-primary" style="width: 100%; margin-top: 20px;" data-i18n="modal.start">Start Lesson</button>
                    </div>
                </div>

                <!-- Active Lesson View -->
                <div id="modal-active-lesson-view" style="display:none;">
                    <div class="viewer-header-active">
                        <button id="back-to-summary" class="back-btn"><span class="arrow">‚Üê</span></button>
                        <h3 class="modal-explanation-title" data-i18n="modal.explanation">Lesson Explanation</h3>
                    </div>

                    <div id="active-lesson-content" class="rich-content">
                        <!-- Content will be injected here -->
                    </div>

                    <button id="show-quiz-btn" class="btn btn-secondary" style="width: 100%; margin-top: 20px;" data-i18n="quiz.take">Take Quiz</button>
                    
                    <div id="quiz-section" class="quiz-section" style="display: none;">
                        <h3 data-i18n="quiz.title">Quiz</h3>
                        <div id="quiz-container"></div>
                        <button id="submit-quiz-btn" class="btn btn-primary" style="margin-top: 15px;" data-i18n="quiz.submit">Submit Answers</button>
                        <div id="quiz-result" class="quiz-result"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top-btn" aria-label="Back to Top" data-i18n-aria-label="common.backToTop">‚Üë</button>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</body>
</html>
